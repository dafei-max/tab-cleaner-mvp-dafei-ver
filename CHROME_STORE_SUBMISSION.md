# Tab Cleaner MVP - Chrome 扩展程序审核说明

## 产品介绍

**Tab Cleaner MVP** 是一个智能标签页管理工具，旨在帮助用户高效管理和组织浏览器标签页。通过 AI 驱动的语义搜索和自动聚类功能，用户可以快速找到相关标签页，并以可视化的方式在个人空间画布上浏览和管理它们。

### 核心功能

1. **标签页清理与整理**：一键清理所有打开的标签页，并自动抓取每个标签页的元数据（标题、描述、缩略图）
2. **个人空间画布**：将标签页以卡片形式展示在可交互的画布上，支持拖拽、缩放、搜索
3. **AI 语义搜索**：使用多模态 AI 技术，通过自然语言搜索找到最相关的标签页（支持文本和图像语义匹配）
4. **智能聚类**：自动将标签页按主题分类，或根据用户自定义标签进行分组
5. **可视化管理**：支持手动选择、套索选择、创建自定义分组等交互操作

---

## 权限使用说明

### **1. 单一用途说明**

**Tab Cleaner MVP** 的单一用途是帮助用户管理和组织浏览器标签页。所有功能都围绕这一核心目标设计：

- **标签页清理**：收集和整理当前打开的标签页
- **元数据抓取**：获取标签页的标题、描述和缩略图，用于可视化展示
- **智能搜索与聚类**：帮助用户快速找到和组织相关标签页
- **可视化画布**：提供直观的界面来浏览和管理标签页集合

本扩展程序不包含与标签页管理无关的功能，所有权限和功能都直接服务于标签页管理的核心目标。

---

### **2. 使用远程代码的理由**

**Tab Cleaner MVP** 使用远程代码（后端 API）来实现以下核心功能：

1. **OpenGraph 数据抓取**：从网页抓取元数据（标题、描述、缩略图），需要访问网页内容
2. **AI 语义搜索**：调用 AI 模型生成文本和图像的向量表示，实现语义搜索功能
3. **智能聚类**：使用 AI 技术自动将标签页按主题分类
4. **网页截图**：为文档类网页（如 GitHub、技术文档）生成截图，作为可视化内容

这些功能需要服务器端的处理能力（AI 模型、网页解析、截图生成），无法在浏览器扩展程序本地完成。所有远程代码调用都经过加密传输，且仅用于处理用户主动提交的标签页数据。

---

### **3. 使用主机权限的理由（host_permissions: <all_urls>）**

**Tab Cleaner MVP** 需要访问所有 URL（`<all_urls>`）的原因如下：

1. **OpenGraph 数据抓取**：用户可能在任何网站上打开标签页，扩展程序需要访问这些网页来抓取元数据（标题、描述、缩略图）
2. **网页截图生成**：对于文档类网页（如 GitHub、技术文档），需要生成截图作为可视化内容
3. **元数据提取**：从网页 HTML 中提取 OpenGraph 标签和页面信息

**重要说明**：
- 扩展程序仅在用户主动点击"清理"按钮时才会访问标签页的 URL
- 不会在后台自动访问或监控用户的浏览行为
- 所有数据抓取都是用户明确触发的操作
- 不会收集或存储用户的浏览历史、个人信息或其他敏感数据

---

### **4. 使用 activeTab 权限的理由**

**Tab Cleaner MVP** 使用 `activeTab` 权限的原因：

1. **获取当前标签页信息**：当用户点击扩展程序图标时，需要获取当前活动标签页的 URL 和标题
2. **注入内容脚本**：在某些情况下，需要在当前标签页中注入必要的脚本以支持功能
3. **上下文感知**：确保扩展程序的操作与用户当前浏览的页面相关

**使用场景**：
- 用户点击扩展程序图标时，获取当前标签页的 URL
- 在个人空间页面中，用户可以点击卡片打开对应的标签页

---

### **5. 使用 tabs 权限的理由**

**Tab Cleaner MVP** 使用 `tabs` 权限的原因：

1. **获取所有标签页列表**：当用户点击"清理"按钮时，需要获取当前打开的所有标签页信息（URL、标题、ID）
2. **关闭标签页**：清理完成后，自动关闭已处理的标签页
3. **创建新标签页**：打开个人空间页面，展示整理后的标签页集合
4. **标签页状态管理**：检查标签页是否已关闭，避免重复操作

**使用场景**：
- 用户点击"清理"按钮时，获取所有标签页的列表
- 批量关闭已处理的标签页
- 打开个人空间页面展示标签页卡片

**隐私保护**：
- 仅访问用户主动触发的标签页信息
- 不会监控或记录用户的浏览行为
- 标签页信息仅用于展示和管理，不会上传到服务器（除非用户主动使用搜索功能）

---

### **6. 使用 storage 权限的理由**

**Tab Cleaner MVP** 使用 `storage` 权限的原因：

1. **保存标签页数据**：存储抓取的 OpenGraph 数据（标题、描述、缩略图），用于在个人空间画布上展示
2. **保存用户设置**：存储用户的偏好设置（如画布缩放比例、搜索历史等）
3. **临时数据缓存**：缓存 AI 生成的向量数据，避免重复计算，提升搜索性能

**数据存储范围**：
- 仅存储用户主动清理的标签页元数据
- 存储的数据仅用于在个人空间页面中展示
- 不会存储用户的浏览历史、个人信息或其他敏感数据
- 所有数据都存储在本地（`chrome.storage.local`），不会上传到远程服务器

**数据生命周期**：
- 标签页数据：用户刷新页面或重新清理时更新
- 缓存数据：用于提升性能，可随时清除

---

### **7. 使用 scripting 权限的理由**

**Tab Cleaner MVP** 使用 `scripting` 权限的原因：

1. **注入内容脚本**：在某些情况下，需要在网页中注入必要的脚本以支持功能
2. **动态加载资源**：加载扩展程序的资源文件（如 CSS、HTML 模板）
3. **功能初始化**：确保扩展程序功能在页面加载后正常工作

**使用场景**：
- 当用户点击扩展程序图标时，如果页面尚未加载 content script，则动态注入
- 确保扩展程序功能在所有网页上都能正常工作

**安全措施**：
- 仅注入必要的脚本，不修改网页原有功能
- 使用 Shadow DOM 隔离扩展程序的 UI，不影响网页内容
- 不会执行恶意代码或收集用户数据

---

### **8. 使用 web_accessible_resources 的理由**

**Tab Cleaner MVP** 需要将资源文件（JavaScript、CSS、HTML、图片）声明为 `web_accessible_resources` 的原因：

1. **Shadow DOM 渲染**：扩展程序使用 Shadow DOM 技术在网页中渲染 UI，需要访问扩展程序的资源文件
2. **动态加载样式**：加载 CSS 文件以美化扩展程序的界面
3. **图片资源**：显示标签页缩略图和其他 UI 元素
4. **HTML 模板**：加载卡片和弹窗的 HTML 模板

**资源访问范围**：
- 仅扩展程序自身使用，不会暴露给网页脚本
- 所有资源都通过 `chrome.runtime.getURL()` 安全访问
- 不会泄露扩展程序的内部实现细节

---

## 数据使用情况确认

### **数据收集与使用**

**Tab Cleaner MVP** 的数据使用完全符合 Chrome 开发者计划政策：

1. **收集的数据**：
   - 标签页的 URL、标题（仅当用户主动点击"清理"按钮时）
   - 网页的 OpenGraph 元数据（标题、描述、缩略图）
   - 用户输入的搜索关键词（用于 AI 语义搜索）

2. **数据用途**：
   - 在个人空间画布上展示标签页卡片
   - 执行 AI 语义搜索，找到最相关的标签页
   - 执行智能聚类，自动分类标签页

3. **数据传输**：
   - 标签页 URL 和元数据会发送到后端 API（`http://localhost:8000`），用于抓取 OpenGraph 数据和生成 AI 向量
   - 搜索关键词会发送到后端 API，用于生成查询向量和执行搜索
   - 所有数据传输都通过 HTTPS 加密（生产环境）

4. **数据存储**：
   - 标签页元数据存储在本地（`chrome.storage.local`），不会上传到远程服务器
   - AI 生成的向量数据仅用于搜索和聚类，不会永久存储
   - 不会存储用户的浏览历史、个人信息或其他敏感数据

5. **数据共享**：
   - 不会与第三方共享任何数据
   - 不会用于广告或营销目的
   - 所有数据处理都在用户本地或用户自己的服务器上进行

### **隐私保护承诺**

- ✅ 仅收集实现核心功能所必需的数据
- ✅ 所有数据都经过加密传输
- ✅ 不会收集或存储用户的个人信息
- ✅ 不会监控或记录用户的浏览行为
- ✅ 用户数据完全由用户控制，可随时清除
- ✅ 严格遵守 Chrome 开发者计划政策和 GDPR 等隐私法规

---

## 技术实现说明

### **架构设计**

**Tab Cleaner MVP** 采用前后端分离的架构：

- **前端（Chrome 扩展）**：负责 UI 展示和用户交互
- **后端（FastAPI）**：负责数据抓取、AI 处理和业务逻辑

### **安全措施**

1. **数据加密**：所有 API 调用都通过 HTTPS 加密传输
2. **权限最小化**：仅请求实现功能所必需的权限
3. **本地存储**：敏感数据存储在本地，不会上传到远程服务器
4. **用户控制**：所有操作都由用户主动触发，不会在后台自动执行

### **性能优化**

1. **批量处理**：标签页数据抓取和 AI 处理都采用批量方式，避免过载
2. **缓存机制**：缓存 AI 生成的向量数据，避免重复计算
3. **异步处理**：所有网络请求都采用异步方式，不阻塞用户界面

---

## 联系方式

如有任何问题或建议，请通过以下方式联系：

- **GitHub Issues**：[项目仓库地址]
- **邮箱**：[联系邮箱]

---

## 版本历史

- **v0.0.1**（当前版本）：
  - 基础标签页清理功能
  - OpenGraph 数据抓取
  - 个人空间画布展示
  - AI 语义搜索
  - 智能聚类功能

---

**最后更新**：2025-11-06



